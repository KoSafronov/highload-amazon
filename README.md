# highload-amazon

# **Описание онлайн-платформы Amazon (MVP)**

## **1. Тема и целевая аудитория**

## **1.1 Тема**

**Amazon** – это крупнейшая в мире онлайн-платформа для электронной коммерции, предоставляющая пользователям возможность покупать и продавать товары, а также использовать широкий спектр дополнительных сервисов, включая доставку, подписки, облачные вычисления и цифровые товары.

---

## **1.2. Целевая аудитория**

- **Покупатели** – конечные пользователи, приобретающие товары
- **Продавцы** – индивидуальные предприниматели и компании
- **Логистические партнеры** – службы доставки

---

## **1.3. Анализ трафика и вовлеченности**

_(По данным SimilarWeb [1](https://www.similarweb.com/website/amazon.com/) и внутренних отчетов Amazon)_

- **Всего посещений (за месяц):** 2.5B+ [[1]](https://www.similarweb.com/website/amazon.com/)
- **Средняя продолжительность сеанса:** 10 минут [[1]](https://www.similarweb.com/website/amazon.com/)
- **Среднее количество просмотров страниц за посещение:** 8+ [[1]](https://www.similarweb.com/website/amazon.com/)
- **Процент отказов:** ~35% [[1]](https://www.similarweb.com/website/amazon.com/)
- **Количество активных продавцов:** 9M+ [[2]](https://www.marketplacepulse.com/amazon/number-of-sellers)
- **Пользователи Amazon Prime:** 200M+ [[3]](https://www.aboutamazon.com/news/company-news/amazon-prime-has-more-than-200-million-members-globally)

![amazon.com Web Traffic by Country](img/traffic_by_country.png)

![amazon.com Website Traffic Demographics](img/demographics.png)

---

## **1.4. Функционал MVP**

### **Пользовательский функционал**

- **Регистрация и авторизация пользователей** (e-mail, телефон, социальные сети)
- **Каталог товаров и услуг**
  - Просмотр товаров по категориям
  - Фильтрация и сортировка
- **Карточка товара**
  - Описание, фотографии, характеристики
  - Отзывы и рейтинги
- **Корзина и оформление заказа**
  - Добавление товаров
  - Выбор способа доставки
  - Оплата (карты)
- **Личный кабинет**
  - История заказов
  - Адреса доставки

### **Функционал для продавцов (Marketplace)**

- Регистрация и верификация
- Создание карточек товаров
- Управление заказами и возвратами

### **Функционал для логистики и доставки**

- Интеграция с Amazon Logistics и партнерами
- Отслеживание заказов
- Управление складами (**FBA — Fulfillment by Amazon**)

---

## **2. Расчет нагрузки**

## **2.1 Продуктовые метрики**

- #### MAU = 310M [[7]](https://analyzify.com/statsup/amazon)
- #### DAU = 62M [[7]](https://analyzify.com/statsup/amazon)

Расчёт:
<i>DAU = 0.2×310M ≈ 62M</i>

### Действия пользователей

| Тип пользователя           | Параметр                                                                                                                 | Число |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------ | ----- |
| Покупатель                 | <b>Количество покупателей</b>                                                                                            | 310M  |
| Покупатель                 | Среднее количество просмотров страниц за сессию                                                                          | 8     |
| Покупатель                 | Количество сессий в день                                                                                                 | 2     |
| Покупатель                 | Количество просмотренных страниц за день                                                                                 | 16    |
| Покупатель                 | Конверсия покупок                                                                                                        | 3%    |
| Продавец                   | <b>Количество активных продавцов</b>                                                                                     | 9M    |
| Продавец                   | Создание карточек товаров в день                                                                                         | 0,7   |
| Продавец                   | Количество отправляемых посылок в день ВСЕГО [[6]](https://www.feedough.com/amazon-statistics-usage-revenue-key-facts/)  | 1,6M  |
| Продавец                   | Количество отправляемых посылок в день в среднем одним продавцом                                                         | 0,18  |
| Продавец                   | Количество продавцов, регистрирующихся в день [[6]](https://www.feedough.com/amazon-statistics-usage-revenue-key-facts/) | 3700  |
| Сторонние веб пользователи | Количество веб-сайтов, использующих Amazon[[7]](https://trends.builtwith.com/websitelist/Amazon/Historical)              | 65M   |

### Рассчетные параметры карточки товара

Тестовые данные [[0]](https://www.amazon.com/)
| Параметр | Число |
| --------------------------------------------- | ------ |
| Средний размер товарного описания | 100 Кб |
| Среднее количество фотографий у товара | 6 |
| Средний размер фотографии | 250 Кб |
| Среднее количество карточек на одной странице | 35 |

### Рассчет действий среднестатистич. покупателя

Просмотр товаров в день: 2 сессии x 8 страниц x 35 товаров x (100Кб + (6 фото x 250Кб)) = 896000 Кб

- #### Средний размер хранилища пользователя
  | Тип активности               | Общий объем передачи (GB/день) | Ср. скорость передачи (GB/сек) | Пиковая пропускная способность (GB/сек) | Резерв с запасом 4 (GB/сек) |
  | ---------------------------- | ------------------------------ | ------------------------------ | --------------------------------------- | --------------------------- |
  | Поиск товаров                | DAU x 20Kb = 1 240             | 0.014                          | 0.043                                   | 0.057                       |
  | Добавление в корзину         | DAU x 5242Kb = 117 800         | 1.363                          | 4.089                                   | 5.454                       |
  | Оставление отзывов           | DAU x 1468Kb = 31 000          | 0.359                          | 1.077                                   | 1.435                       |
  | Оформление заказа            | DAU x 734Kb = 15 500           | 0.179                          | 0.537                                   | 0.718                       |
  | Трэккинг посылок             | DAU x 17.8Kb = 372             | 0.004                          | 0.013                                   | 0.017                       |
  | Добавление товаров продавцом | DAU x 18.8Kb = 384             | 0.004                          | 0.013                                   | 0.018                       |
  | Открытие карточки товара     | DAU x 367Kb = 7 440            | 0.086                          | 0.258                                   | 0.344                       |
  Σ = 170Тб/день

## **2.2 Технические метрики**

| Параметр                                        | Число   |
| ----------------------------------------------- | ------- |
| Количество сессий в месяц                       | 25млрд  |
| Среднее количество просмотров страниц за сессию | 8       |
| Среднее количество HTTP-запросов на страницу    | 10      |
| Среднее количество запросов за сессию           | 80      |
| Общее число запросов в месяц                    | 200млрд |

### RPS

- <b>Регистрация и авторизация</b>: ~50 тыс.
- <b>Поиск товаров</b>: 2 запроса на пользователя ⇒ 62 млн × 2 = 124 млн.
- <b>Просмотр карточки товара</b>: 10 запросов на пользователя ⇒ 62 млн × 10 = 620 млн.
- <b>Оставление отзывов</b>: 0.1 запроса на пользователя ⇒ 6.2 млн.
- <b>Добавление в корзину</b>: 2 запроса на пользователя ⇒ 124 млн.
- <b>Редактирование корзины</b>: 0.2 запроса на пользователя ⇒ 12.4 млн.
- <b>Выбор пункта доставки</b>: 0.15 запроса на пользователя ⇒ 9.3 млн.
- <b>Оформление заказа</b>: 0.15 запроса на пользователя ⇒ 9.3 млн.
- <b>Трэккинг посылок</b>: 0.6 запроса на пользователя ⇒ 37.2 млн.
- <b>Добавление товаров продавцом</b>: 0.5 запроса на продавца ⇒ 1.2 млн × 0.5 = 600 тыс

| Операция                     | Среднее RPS | Пиковый RPS (×3) | RPS с запасом 4 (×4) |
| ---------------------------- | ----------- | ---------------- | -------------------- |
| Регистрация и авторизация    | 0.58        | 1.74             | 2.32                 |
| Поиск товаров                | 1 435       | 4 305            | 5 740                |
| Просмотр карточки товара     | 7 176       | 21 528           | 28 704               |
| Оставление отзывов           | 71.8        | 215.3            | 287.0                |
| Добавление в корзину         | 1 435       | 4 305            | 5 740                |
| Редактирование корзины       | 143.5       | 430.5            | 574.0                |
| Выбор пункта доставки        | 107.6       | 322.9            | 430.6                |
| Оформление заказов           | 107.6       | 322.9            | 430.6                |
| Трэккинг посылок             | 430.6       | 1 291.8          | 1 722.2              |
| Добавление товаров продавцом | 6.94        | 20.82            | 27.76                |

Трафик (Гбайт)=(DAU×Количество запросов на пользователя×Объем данных на запрос (Kb)​)/(8×1024×1024)

Скорость (Гбит/с)=(Суммарный суточный трафик (Гбайт)×8​)/86400

Пиковая скорость (Гбит/с)=Средняя скорость × 3

## Резерв (Гбит/с)=Средняя скорость × 4

<b>Поиск товаров</b><br>

- Суммарный суточный трафик:<br>
  (62 000 000×2×20)/(8×1024×1024)=295.5 Гбайт

- Средняя скорость:<br>
  (295.5×8)/86400=0.027 Гбит/с

- Пиковая скорость:<br>
  0.027×3=0.081 Гбит/с

- Резерв с запасом:<br>
  0.027×4=0.108 Гбит/с

## <b>Добавление в корзину</b><br>

- Суммарный суточный трафик:<br>
  (62 000 000×2×5242)/(8×1024×1024)=77 500 Гбайт

- Средняя скорость:<br>
  (77 500×8)/86400=7.18 Гбит/с

- Пиковая скорость:<br>
  7.18×3=21.54 Гбит/с

- Резерв с запасом:<br>
  7.18×4=28.72 Гбит/с

---

<b>Оставление отзывов</b><br>

- Суммарный суточный трафик:<br>
  (62 000 000×0.1×1468)/(8×1024×1024)=1 085 Гбайт

- Средняя скорость:<br>
  (1 085×8)/86400=0.1 Гбит/с

- Пиковая скорость:<br>
  0.1×3=0.3 Гбит/с

- Резерв с запасом:<br>
  0.1×4=0.4 Гбит/с

---

<b>Оформление заказа</b><br>

- Суммарный суточный трафик:<br>
  (62 000 000×0.15×734)/(8×1024×1024)=814 Гбайт

- Средняя скорость:<br>
  (814×8)/86400=0.075 Гбит/с

- Пиковая скорость:<br>
  0.075×3=0.225 Гбит/с

- Резерв с запасом:<br>
  0.075×4=0.3 Гбит/с

---

<b>Трекинг посылок</b><br>

- Суммарный суточный трафик:<br>
  (62 000 000×0.6×17.8)/(8×1024×1024)=79 Гбайт

- Средняя скорость:<br>
  (79×8)/86400=0.0073 Гбит/с

- Пиковая скорость:<br>
  0.0073×3=0.0219 Гбит/с

- Резерв с запасом:<br>
  0.0073×4=0.0292 Гбит/с

---

<b>Добавление товаров продавцом</b><br>

- Суммарный суточный трафик:<br>
  (1 200 000×0.5×18.8)/(8×1024×1024)=1.34 Гбайт

- Средняя скорость:<br>
  (1.34×8)/86400=0.000124 Гбит/с

- Пиковая скорость:<br>
  0.000124×3=0.000372 Гбит/с

- Резерв с запасом:<br>
  0.000124×4=0.000496 Гбит/с

---

<b>Открытие карточки товара</b><br>

- Суммарный суточный трафик:<br>
  (62 000 000×10×367)/(8×1024×1024)=27 100 Гбайт

- Средняя скорость:<br>
  (27 100×8)/86400=2.51 Гбит/с

- Пиковая скорость:<br>
  2.51×3=7.53 Гбит/с

- Резерв с запасом:<br>
  2.51×4=10.04 Гбит/с

---

Саммари<br>
<b><i>Суммарный суточный трафик:</i></b> 295.5+77 500+1 085+814+79+1.34+27 100=<b>106 875 Гбайт</b>

<b><i>Средняя скорость:</i></b> 0.027+7.18+0.1+0.075+0.0073+0.000124+2.51=<b>9.9 Гбит/с</b>

<b><i>Пиковая скорость:</i></b> 0.081+21.54+0.3+0.225+0.0219+0.000372+7.53=<b>29.7 Гбит/с</b>

<b><i>Резерв с запасом:</i></b> 0.108+28.72+0.4+0.3+0.0292+0.000496+10.04=<b>39.6 Гбит/с</b>

---

**Список источников:** 0. https://www.amazon.com/

1. https://www.similarweb.com/website/amazon.com/
2. https://www.marketplacepulse.com/amazon/number-of-sellers
3. https://www.aboutamazon.com/news/company-news/amazon-prime-has-more-than-200-million-members-globally
4. https://amzscout.net/blog/amazon-statistics/#:~:text=It%20is%20estimated%20that%20the%20marketplace%20has%20over%20310%20million%20active%20users%20worldwide
5. https://www.demandsage.com/amazon-statistics/
6. https://www.feedough.com/amazon-statistics-usage-revenue-key-facts/
7. https://trends.builtwith.com/websitelist/Amazon/Historical
8. https://analyzify.com/statsup/amazon
